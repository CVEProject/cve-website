<template>
  <div id="cve-secondary-page-main-container">
    <div class="columns is-centered">
      <div class="column is-12-desktop is-11-tablet cve-main-column-content-width">
        <main id="cve-main-page-content" role="main">
          <div class="content">
            <h1 class="title">CVE Downloads</h1>
            <p class="cve-help-text">
              All links on this page will take you to the original CVE website and other external sites
              <span class="icon cve-icon-xxs">
                <p id="externalSiteLinks" class="is-hidden">external website</p>
                  <font-awesome-icon icon="external-link-alt" aria-labelledby="extenalSiteLinks"/>
              </span>.
            </p>
            <p>
              The CVE List is available for download in the formats below, per the
              <router-link to="/Legal/TermsOfUse">terms of use</router-link>.<br>
              To save compressed fles, you may need to right-click and choose a “Save Link As” or “Save Target As” option.
            </p>
            <p class="has-text-weight-bold">
              CVE downloads data last generated: <time :datetime='todayDateTimeStr'>{{today}}</time>
            </p>
            <h2>Download CVE Records in Various Formats</h2>
            <p>
              All files below are large, approximately between 15 and 35 MB each
            </p>
            <div class="table-container">
              <table class="table is-striped is-hoverable cve-border-dark-blue cve-border-bottom-unset">
                <thead>
                  <tr>
                    <th style="width: 10%">Format</th>
                    <th style="width: 20%">Unix Compressed (.Z)</th>
                    <th style="width: 20%">Gzipped</th>
                    <th style="width: 20%">Raw</th>
                    <th>Additional Notes</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td data-label="Format" style="width: 10%">CSV</td>
                    <td data-label="Unix Compressed" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.csv.Z">allitems.csv.Z</a>
                    </td>
                    <td data-label="Gzipped" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.csv.gz">allitems.csv.gz</a>
                    </td>
                    <td data-label="Raw" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.csv">allitems.csv</a>
                    </td>
                    <td data-label="Additional Notes">NOTE: suitable for import into spreadsheet programs</td>
                  </tr>
                  <tr>
                    <td data-label="Format" style="width: 10%">HTML</td>
                    <td data-label="Unix Compressed" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.html.Z">allitems.html.Z</a>
                    </td>
                    <td data-label="Gzipped" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.html.gz">allitems.html.gz</a>
                    </td>
                    <td data-label="Raw" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.html">allitems.html</a>
                    </td>
                    <td data-label="Additional Notes"></td>
                  </tr>
                  <tr>
                    <td data-label="Format" style="width: 10%">Text</td>
                    <td data-label="Unix Compressed" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.txt.Z">allitems.txt.Z</a>
                    </td>
                    <td data-label="Gzipped" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.txt.gz">allitems.txt.gz</a>
                    </td>
                    <td data-label="Raw" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.txt">allitems.txt</a>
                    </td>
                    <td data-label="Additional Notes"></td>
                  </tr>
                  <tr>
                    <td data-label="Format" style="width: 10%">XML</td>
                    <td data-label="Unix Compressed" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.xml.Z">allitems.xml.Z</a>
                    </td>
                    <td data-label="Gzipped" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.xml.gz">allitems.xml.gz</a>
                    </td>
                    <td data-label="Raw" style="width: 20%">
                      <a href="https://cve.mitre.org/data/downloads/allitems.xml">allitems.xml</a>
                    </td>
                    <td data-label="Additional Notes">XML Schema Design:
                      <a href="https://cve.mitre.org/schema/cve/cve_1.0.xsd" target="_blank">cve_1.0.xsd</a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <h2>
              Download CVRF Files
            </h2>
            <p>
              CVE uses <a href="http://www.icasi.org/cvrf-1-1-mindmap/" target="_blank">Common Vulnerability Reporting Framework (CVRF)</a>
              Version 1.1, which is maintained by the
              <a href="http://www.icasi.org/" target="_blank">Industry Consortium for Advancement of Security on the Internet (ICASI)</a>.
            </p>
            <p>
              <a href="https://cve.mitre.org/cve/cvrf.html" target="_blank">Learn more about CVE and CVRF on the original CVE website.</a>
            </p>
            <p>
              All files below are large, approximately between 15 and 35 MB each
            </p>
            <div class="columns">
              <div class="column pl-3 is-half">
            <div class="tile is-ancestor cve-task-tiles-container">
              <div class="tile is-parent cve-task-left-tile">
                <article class="tile is-child cve-border-dark-blue">
                  <h3 class="title cve-task-tile-header">
                    CVRF Files (XML)
                  </h3>
                  <p class="ml-4">
                    <a href="https://cve.mitre.org/data/downloads/allitems-cvrf.xml">All records - Raw (cvrf.xml, at least 280MB)</a>
                  </p>
                  <p class="mb-0 ml-4 has-text-weight-bold">
                    XML Files By Year:
                  </p>
                  <ul class="mt-0 tile-body cve-task-tile-list cve-list-no-bullet">
                    <li><a href="/data/downloads/allitems-cvrf-year-2021.xml">CVE-2021-xxxxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2020.xml">CVE-2020-xxxxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2019.xml">CVE-2019-xxxxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2018.xml">CVE-2018-xxxxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2017.xml">CVE-2017-xxxxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2016.xml">CVE-2016-xxxxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2015.xml">CVE-2015-xxxxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2014.xml">CVE-2014-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2013.xml">CVE-2013-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2012.xml">CVE-2012-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2011.xml">CVE-2011-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2010.xml">CVE-2010-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2009.xml">CVE-2009-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2008.xml">CVE-2008-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2007.xml">CVE-2007-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2006.xml">CVE-2006-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2005.xml">CVE-2005-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2004.xml">CVE-2004-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2003.xml">CVE-2003-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2002.xml">CVE-2002-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2001.xml">CVE-2001-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-2000.xml">CVE-2000-xxxx records</a></li>
                    <li><a href="/data/downloads/allitems-cvrf-year-1999.xml">CVE-1999-xxxx records</a></li>
                  </ul>
                </article>
              </div>
            </div> <!-- end task tile container -->
              </div>
            </div>
          </div> <!-- content -->
        </main>
        <SurveyLinkComponent :surveyLink=surveyLink />
     </div>
    </div>
  </div>
</template>

<script>
import SurveyLinkComponent from '@/components/SurveyLinkComponent.vue';

export default {
  name: 'Downloads',
  components: {
    SurveyLinkComponent,
  },
  data() {
    return {
      today: new Date().toLocaleString([], { year: 'numeric', month: 'long', day: '2-digit' }),
      todayDateStr: this.getDateTimeStr(),
    };
  },
  methods: {
    getDateTimeStr() {
      this.dateObj = new Date();
      this.todayDateTimeStr = `${this.dateObj.toLocaleString([], { year: 'numeric' })
      }-${this.dateObj.toLocaleString([], { month: '2-digit' })
      }-${this.dateObj.toLocaleString([], { day: '2-digit' })}`;
      return this.todayDateTimeStr;
    },
  },
  props: {
    surveyLink: {
      type: String,
      default: 'https://forms.office.com/Pages/ResponsePage.aspx?id='
        + 'SNwgxlAdUkmLOd9NVNdNgpACCE8tvfVOvUZBFBD8MXhUQTBZQVVNOVk1WFpBV0ZGQ0w4TzJKVUMyRiQlQCN0PWcu',
    },
  },
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
@import '../assets/style/globals.scss';
@import '../assets/style/elements/cveTableStacked.scss';
</style>
