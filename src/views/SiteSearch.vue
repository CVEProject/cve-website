<template>
  <div id="cve-secondary-page-main-container">
    <div class="columns is-centered">
      <div class="column is-12-desktop is-11-tablet cve-main-column-content-width">
        <main id="cve-main-page-content" role="main">
          <h1 class="title">Search CVE Site</h1>
          <p class="mb-4 cve-help-text">Many of the links which are returned from a site search will be CVE Records which
            are on the original CVE website.  These links will open in a new tab or window.</p>
          <p class="content">
            Enter keywords in the search bar below to search site content. Additionally, you can search for CVE records by entering keywords or CVE
            ID.
          </p>
          <div class="gcse-searchbox"></div>
          <div class="gcse-searchresults"></div>
        </main>
        <SurveyLinkComponent :surveyLink=surveyLink />
      </div>
    </div>
  </div>
</template>

<script>
import Vue from 'vue';
import LoadScript from 'vue-plugin-load-script';
import SurveyLinkComponent from '@/components/SurveyLinkComponent.vue';

Vue.use(LoadScript);

export default {
  components: {
    SurveyLinkComponent,
  },
  mounted() {
    Vue.loadScript('https://cse.google.com/cse.js?cx=3f60a0cc494b9b030');
  },
  destroyed() {
    Vue.unloadScript('https://cse.google.com/cse.js?cx=3f60a0cc494b9b030');
  },
  props: {
    surveyLink: {
      type: String,
      default: 'https://forms.office.com/Pages/ResponsePage.aspx?id='
        + 'SNwgxlAdUkmLOd9NVNdNgpACCE8tvfVOvUZBFBD8MXhUODZGMkhKMFFRWUEyNlNFUEpMTUc5VTROSSQlQCN0PWcu',
    },
  },
};

</script>

<style scoped lang="scss">
@import '../assets/style/globals.scss';
#cve-secondary-page-main-container {
  background-color: white;
}
</style>
